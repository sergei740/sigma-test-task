(this["webpackJsonpsigma-task"]=this["webpackJsonpsigma-task"]||[]).push([[0],{63:function(e,t,a){e.exports=a(74)},68:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),s=(a(68),a(11)),c=a(52),l=a(26),u=a(112),d=a(119),m=a(114),p=a(123),g=a(120),f=[{id:"1",name:"Turkish",age:25,login:"turkish",password:"1234",photo:"photos/turkish.jpg",friendsList:["2","4","5","6","7"]},{id:"2",name:"Tommy",age:23,login:"tommy",password:"123asda4",photo:"photos/tommy.jpg",friendsList:["1","3","5","6","7"]},{id:"3",name:"Mickey O'Neil",age:21,login:"mickey",password:"1234",photo:"photos/mickey.jpg",friendsList:["2","5","6","7"]},{id:"4",name:"Brick Top",age:27,login:"brickTop",password:"123457",photo:"photos/brickTop.jpg",friendsList:["1","5","6","7"]},{id:"5",name:"Vinny",age:28,login:"Vinny",password:"123asdf4",photo:"photos/vinny.jpg",friendsList:["1","2","4","3"]},{id:"6",name:"Fat Nick",age:25,login:"fatNick",password:"12345",photo:"photos/fatNick.jpg",friendsList:["1","2","4","3","7"]},{id:"7",name:"Rory Breaker",age:25,login:"roryBreaker",password:"123456",photo:"photos/roryBreaker.jpg",friendsList:["1","2","4","3","6"]}];function h(e){return r.a.createElement(g.a,Object.assign({elevation:6,variant:"filled"},e))}var b=Object(u.a)((function(){return{container:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},form:{display:"flex",margin:0,width:300,flexDirection:"column"},textField:{marginBottom:"25px"},button:{width:"200px",margin:"40px auto 0"}}})),E=function(e){var t=e.setAuthorizedUserId,a=b(),i=Object(n.useState)(""),o=Object(s.a)(i,2),c=o[0],l=o[1],u=Object(n.useState)(""),g=Object(s.a)(u,2),E=g[0],y=g[1],j=Object(n.useState)(!1),v=Object(s.a)(j,2),O=v[0],S=v[1],x=function(e,t){"clickaway"!==t&&S(!1)},w=function(e,a){var n=f.filter((function(t){return t.login===e}));if(n.length){var r=n.filter((function(e){return e.password===a}));if(r.length){var i=Object(s.a)(r,1)[0];return sessionStorage.setItem("authorizedUserId",i.id),localStorage.setItem("currentUserFriendsList",JSON.stringify(i.friendsList)),t(i.id),l(""),y(""),!0}}return!1};return r.a.createElement("div",{className:a.container},r.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),w(c,E)||S(!0)}},r.a.createElement(d.a,{value:c,className:a.textField,onChange:function(e){var t=e.target.value;return l(t)},label:"Login"}),r.a.createElement(d.a,{value:E,className:a.textField,onChange:function(e){var t=e.target.value;return y(t)},label:"Password",type:"password"}),r.a.createElement(m.a,{className:a.button,variant:"contained",color:"primary",type:"submit",disabled:!c||!E},"Log In")),r.a.createElement(p.a,{open:O,onClose:x},r.a.createElement(h,{onClose:x,severity:"error"},"Wrong login or password! Please try again.")))},y=a(115),j=a(124),v=a(116),O=a(117),S=a(111),x=a(121),w=a(118),N=a(16),k=Object(u.a)((function(){return{liStyle:{marginBottom:"25px",display:"flex",justifyContent:"space-between",alignItems:"center",width:"90%",fontSize:"26px",margin:"auto"},img:{maxWidth:"100%",height:"auto"},photo:{overflow:"hidden",textAlign:"center",borderRadius:"50px",width:"100px",height:"100px"},name:{width:"30%",textAlign:"left"},buttonsContainer:{width:"30%",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center"},friendStatus:{fontWeight:"300",color:"#655050",marginRight:"10px"}}})),U=function(e){var t=e.user,a=t.id,n=t.name,i=t.photo,o=e.isFriend,s=e.changeCurrentUserFriendsList,c=e.currentUserFriendsList,l=k();return r.a.createElement("li",{id:a,className:l.liStyle,onClick:function(e){"add"!==e.target.getAttribute("data-btn-type")&&"add"!==e.target.parentNode.getAttribute("data-btn-type")||(s([].concat(Object(N.a)(c),[a])),localStorage.setItem("currentUserFriendsList",JSON.stringify([].concat(Object(N.a)(c),[a])))),"delete"!==e.target.getAttribute("data-btn-type")&&"delete"!==e.target.parentNode.getAttribute("data-btn-type")||(s(c.filter((function(e){return e!==a}))),localStorage.setItem("currentUserFriendsList",JSON.stringify(c.filter((function(e){return e!==a})))))}},r.a.createElement("div",{className:l.photo},r.a.createElement("img",{alt:a,src:i,className:l.img})),r.a.createElement("div",{className:l.name},"".concat(n)),r.a.createElement("div",{className:l.buttonsContainer},o?r.a.createElement("span",{className:l.friendStatus},"friend"):null,o?null:r.a.createElement(m.a,{"data-btn-type":"add",variant:"contained",color:"primary"},"Add friend"),o?r.a.createElement(m.a,{"data-btn-type":"delete",variant:"contained",color:"secondary"},"Remove friend"):null))},F=Object(u.a)((function(){return{textField:{margin:"20px 0 20px 40px",width:"40%"}}})),L=function(e){var t=e.authorizedUserId,a=F(),i=f.filter((function(e){return e.id!==t})),o=Object(n.useState)(i),c=Object(s.a)(o,2),l=c[0],u=c[1],m=Object(n.useState)(""),p=Object(s.a)(m,2),g=p[0],h=p[1],b=Object(n.useState)(Object(N.a)(JSON.parse(localStorage.currentUserFriendsList))),E=Object(s.a)(b,2),j=E[0],v=E[1];Object(n.useEffect)((function(){var e=i.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase().trim())}));u(e)}),[g]);return r.a.createElement(y.a,{container:!0,direction:"column"},r.a.createElement(d.a,{className:a.textField,onChange:function(e){var t=e.target.value;t!==g&&h(t)},label:"Search user",type:"search",variant:"outlined"}),r.a.createElement("ul",null,l.map((function(e){return r.a.createElement(U,{key:e.id,user:e,changeCurrentUserFriendsList:v,currentUserFriendsList:j,isFriend:j.includes(e.id)})}))))},C=a(75),I=Object(u.a)((function(){return{typo:{padding:"0 30px",textAlign:"left",margin:"30px 0"}}})),A=function(e){var t=e.users,a=e.authorizedUserId,i=I(),o=Object(n.useState)(Object(N.a)(JSON.parse(localStorage.currentUserFriendsList))),c=Object(s.a)(o,2),l=c[0],u=c[1],d=t.filter((function(e){return e.id!==a})).filter((function(e){var t=e.id;return l.includes(t)})),m=Object(n.useState)(d),p=Object(s.a)(m,2),g=p[0],f=p[1];return Object(n.useEffect)((function(){f(g.filter((function(e){var t=e.id;return l.includes(t)})))}),[l]),r.a.createElement(y.a,{container:!0,direction:"column",justify:"space-between"},r.a.createElement(y.a,{className:i.typo},r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"Friends")),r.a.createElement("ul",null,g.length?g.map((function(e){return r.a.createElement(U,{key:e.id,currentUserFriendsList:l,changeCurrentUserFriendsList:u,user:e,isFriend:l.includes(e.id)})})):r.a.createElement(C.a,{align:"center",variant:"h4",gutterBottom:!0},"You haven't friends")))},z=Object(u.a)((function(){return{paperStyle:{width:"100%"},logOutBtn:{position:"absolute",right:0,height:"48px"}}})),B="USERS",R="FRIENDS",J={0:"USERS",1:"FRIENDS"},D=function(e){var t=e.setAuthorizedUserId,a=e.authorizedUserId,i=z(),o=Object(n.useState)(B),c=Object(s.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(0),p=Object(s.a)(d,2),g=p[0],h=p[1],b=Object(n.useState)(!1),E=Object(s.a)(b,2),N=E[0],k=E[1],U=function(){k(!1)};return r.a.createElement(y.a,null,r.a.createElement(j.a,{open:N,onClose:U},r.a.createElement(v.a,{id:"alert-dialog-title"},"Do you really want to left?"),r.a.createElement(O.a,null,r.a.createElement(m.a,{onClick:U,variant:"outlined"},"Disagree"),r.a.createElement(m.a,{onClick:function(){localStorage.clear(),t("")},color:"primary",variant:"contained",autoFocus:!0},"Agree"))),r.a.createElement(y.a,{container:!0,justify:"space-between"},r.a.createElement(S.a,{className:i.paperStyle},r.a.createElement(x.a,{value:g,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){u(J[t]),h(t)},"aria-label":"disabled tabs example"},r.a.createElement(w.a,{label:"Users"}),r.a.createElement(w.a,{label:"Friends"}))),r.a.createElement(m.a,{className:i.logOutBtn,variant:"outlined",color:"secondary",onClick:function(){k(!0)}},"Log Out")),l===B&&r.a.createElement(L,{users:f,authorizedUserId:a}),l===R&&r.a.createElement(A,{users:f,authorizedUserId:a}))};var T=function(){var e=Object(n.useState)(sessionStorage.authorizedUserId||""),t=Object(s.a)(e,2),a=t[0],i=t[1];return r.a.createElement(c.a,{basename:"/sigma-test-task"},r.a.createElement(l.b,{exact:!0,path:"/",render:function(){return a?r.a.createElement(l.a,{to:"/homePage"}):r.a.createElement(E,{setAuthorizedUserId:i})}}),r.a.createElement(l.b,{exact:!0,path:"/homePage",render:function(){return a?r.a.createElement(D,{authorizedUserId:a,setAuthorizedUserId:i}):r.a.createElement(l.a,{to:"/"})}}))};o.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.e59dae48.chunk.js.map